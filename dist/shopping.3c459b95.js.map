{"version":3,"sources":["shopping.js"],"names":["shoppingForm","document","querySelector","list","items","contrast","handleSubmit","e","preventDefault","name","currentTarget","item","value","id","Date","now","complete","push","target","reset","dispatchEvent","CustomEvent","displayItems","html","map","join","innerHTML","mirrorToLocalStorage","localStorage","setItem","JSON","stringify","restoreFromLocalStorage","lsItems","parse","getItem","length","deleteItem","filter","markAsComplete","itemRef","find","addEventListener","parseInt","matches","contrastToggler","console","log","contrastElements","querySelectorAll","contrastArray","Array","from","el","dataset","setAttribute"],"mappings":"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","file":"shopping.3c459b95.js","sourceRoot":"..","sourcesContent":["const shoppingForm = document.querySelector('.shopping');\nconst list = document.querySelector('.list');\n\n// State\nlet items = [];\nlet contrast = '';\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  const name = e.currentTarget.item.value;\n\n  if (!name) return;\n\n  const item = {\n    name,\n    id: Date.now(),\n    complete: false,\n  };\n\n  // push items into state\n  items.push(item);\n  e.target.reset();\n\n  // fire off a custom event that tells anyone else who cares\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\n}\n\nfunction displayItems() {\n  const html = items\n    .map(\n      item => `<li class=\"shopping-item\">\n        <input\n          value=${item.id}\n          type=\"checkbox\"\n          ${item.complete && 'checked'}\n        >\n        <span class=\"itemName\" data-contrast=\"${contrast}\" >${item.name}</span>\n        <button value=${item.id} aria-label=\"Remove ${item.name} \"data-contrast=\"${contrast}\">&times;</button>\n      </li>\n      `\n    )\n    .join('');\n    list.innerHTML = html;\n}\n\nfunction mirrorToLocalStorage() {\n  localStorage.setItem('items', JSON.stringify(items));\n}\n\nfunction restoreFromLocalStorage() {\n  // pull the items from LS\n  const lsItems = JSON.parse(localStorage.getItem('items'));\n  if (lsItems.length) {\n    items.push(...lsItems);\n    list.dispatchEvent(new CustomEvent('itemsUpdated'));\n  }\n}\n\nfunction deleteItem(id) {\n  // update our items array without this one\n  items = items.filter(item => item.id !== id)\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\n}\n\nfunction markAsComplete(id) {\n  const itemRef = items.find(item => item.id === id);\n  itemRef.complete = !itemRef.complete;\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\n}\n\nshoppingForm.addEventListener('submit', handleSubmit);\nlist.addEventListener('itemsUpdated', displayItems);\nlist.addEventListener('itemsUpdated', mirrorToLocalStorage);\nlist.addEventListener('click', function(e) {\n  const id = parseInt(e.target.value);\n  if (e.target.matches('button')) {\n    deleteItem(id);\n  }\n\n  if (e.target.matches('input[type=\"checkbox\"]')) {\n    markAsComplete(id);\n  }\n});\n\nrestoreFromLocalStorage();\n\nconst contrastToggler = document.querySelector('.toggle-contrast');\n\ncontrastToggler.addEventListener('click', function(e) {\n  console.log(e);\n\n  const contrastElements = document.querySelectorAll('[data-contrast]');\n\n  const contrastArray = Array.from(contrastElements);\n  contrastArray.map(function(el) {\n    if (el.dataset.contrast === 'high') {\n      el.setAttribute('data-contrast', 'low')\n      contrast = 'low';\n      contrastToggler.innerHTML = 'Increase contrast'\n    } else {\n      el.setAttribute('data-contrast', 'high')\n      contrast = 'high';\n      contrastToggler.innerHTML = 'Decrease contrast'\n    }\n  });\n});"]}